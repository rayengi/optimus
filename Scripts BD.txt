--crear SCHEMA BD
CREATE SCHEMA `dboptimus`

DEFAULT CHARACTER SET = utf8


--Crear Tabla Producto
CREATE TABLE `dboptimus`.`producto` (
  
`idProducto` INT NOT NULL AUTO_INCREMENT,
  
`NombreProducto` VARCHAR(45) NOT NULL,
  
`TipoReferencia` VARCHAR(45) NOT NULL,
  
PRIMARY KEY (`idProducto`))

ENGINE = InnoDB
DEFAULT 
CHARACTER SET = utf8;



--Crear Tabla Lote
CREATE TABLE `dboptimus`.`lote` (
  
`idLote` INT NOT NULL,
  
`NumeroLote` INT NOT NULL,
  
`FechaLote` DATETIME NOT NULL,
  
PRIMARY KEY (`idLote`))

ENGINE = InnoDB
DEFAULT 
CHARACTER SET = utf8;



--Crear Tabla Lote_producto
CREATE TABLE `dboptimus`.`lote_producto` (
  
`idLote_Producto` INT NOT NULL,
  
`CantidadLote` VARCHAR(45) NOT NULL,
  
PRIMARY KEY (`idLote_Producto`))

ENGINE = InnoDB
DEFAULT 
CHARACTER SET = utf8;


--Crear Tabla MuestreoProducto
CREATE TABLE `dboptimus`.`muestreoproducto` (
  
`idMuestreoProducto` INT NOT NULL,
  
`CantidadProducto` VARCHAR(45) NOT NULL,
  
`TipoEstado` 
VARCHAR(45) NOT NULL,
  
PRIMARY KEY (`idMuestreoProducto`))
ENGINE = InnoDB
DEFAULT 
CHARACTER SET = utf8;



--Crear Tabla Especificaciones
CREATE TABLE `dboptimus`.`especificaciones` (
  
`idEspecificaciones` INT NOT NULL,
  
`DiametroMin` DECIMAL NOT NULL,
  
`DiametroMax` DECIMAL NOT NULL,
  
`LargoMin` DECIMAL NOT NULL,
  
`LargoMax` DECIMAL NOT NULL,
  
`Alto` DECIMAL NOT NULL,
  
`PesoMin` DECIMAL NOT NULL,
  
`PesoMax` DECIMAL NOT NULL,
  
PRIMARY KEY (`idEspecificaciones`))
ENGINE = InnoDB
DEFAULT 
CHARACTER SET = utf8;



--Crear Tabla DefectoMuestreo
CREATE TABLE `dboptimus`.`defectomuestreo` (
  
`idDefectoMuestreo` INT NOT NULL,
  
`TipoDefecto` VARCHAR(45) NOT NULL,
  
PRIMARY KEY (`idDefectoMuestreo`))
ENGINE = InnoDB
DEFAULT 
CHARACTER SET = utf8;



--Crear Relaciones
ALTER TABLE `dboptimus`.`producto` 
ADD COLUMN `idEspecificaciones` INT NOT NULL AFTER `TipoReferencia`;
ALTER TABLE `dboptimus`.`defectomuestreo` 
ADD COLUMN `idMuestreoProducto` INT NOT NULL AFTER `TipoDefecto`;
ALTER TABLE `dboptimus`.`lote_producto` 
ADD COLUMN `idProducto` INT NOT NULL AFTER `CantidadLote`,
ADD COLUMN `idLote` INT NOT NULL AFTER `idProducto`;

